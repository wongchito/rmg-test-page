(this["webpackJsonprail-map-generator"]=this["webpackJsonprail-map-generator"]||[]).push([[61],{257:function(e,t,n){"use strict";n.r(t);var a=n(53),r=n(9),c=n(3),l=n(13),i=n(0),o=n.n(i),s=n(26),u=n(266),h=n(229),d=n(131),f=n(132),p=n(54),m=n(264),b=n(245),g=n(246),E=n(133),v=n(103),O=n(226),j=n(256),y=n(134),C=n(247),S=n(43);function w(){return Math.floor(Math.random()*Math.pow(36,4)).toString(36).padStart(4,"0")}function k(e){var t="\u7678\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u65e5\u6708\u91d1\u6728\u6c34\u706b\u571f\u7af9\u6208\u5341\u5927\u4e2d\u4e00\u5f13\u4eba\u5fc3\u624b\u53e3\u5c38\u5eff\u5c71\u5973\u7530\u96e3\u535c\u91cd".split(""),n=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Alfa","Bravo","Charlie","Delta","Echo","Foxtrot","Golf","Hotel","India","Juliett","Kilo","Lima","Mike","November","Oscar","Papa","Quebec","Romeo","Sierra","Tango","Uniform","Victor","Whiskey","X-ray","Yankee","Zulu"];return[e.split("").map((function(e){return t[parseInt(e,36)]})).join(""),e.split("").map((function(e){return n[parseInt(e,36)]})).join(" ")]}var x=o.a.memo((function(e){var t=Object(s.c)().t,n={centre:t("stations.add.centre"),upper:t("stations.add.upper"),lower:t("stations.add.lower"),newupper:t("stations.add.newUpper"),newlower:t("stations.add.newLower")},a=o.a.useState("before"),i=Object(l.a)(a,2),u=i[0],d=i[1],x=o.a.useState(e.tpo[0]),L=Object(l.a)(x,2),N=L[0],_=L[1],I=o.a.useState(Object.keys(n)[0]),T=Object(l.a)(I,2),z=T[0],U=T[1],A=o.a.useState(Array(5).fill(!0)),M=Object(l.a)(A,2),F=M[0],J=M[1],H=o.a.useState(""),P=Object(l.a)(H,2),B=P[0],D=P[1],R=o.a.useState([]),W=Object(l.a)(R,2),Z=W[0],K=W[1],G=o.a.useMemo((function(){return function(e,t,n){switch(n[t]?n[t]["before"===e?"parents":"children"].length:0){case 2:return[1,1,1,[],[]];case 1:var a=Object(S.c)(t,n);if(0===a){var r=function(e,t,n){var a=[];if("before"===e){for(;1===n[t].parents.length;)t=n[t].parents[0],a.unshift(t);a.pop()}else{for(;1===n[t].children.length;)t=n[t].children[0],a.push(t);a.shift()}return a}(e,t,n);return[1,0,0,r=r.length?r:[],r]}return a<0?"before"===e?[n[n[t].parents[0]].children.length-1,0,1,[],[]]:[n[n[t].children[0]].parents.length-1,0,1,[],[]]:"before"===e?[n[n[t].parents[0]].children.length-1,1,0,[],[]]:[n[n[t].children[0]].parents.length-1,1,0,[],[]]}return[0,0,0,[],[]]}(u,N,e.stnList)}),[u,N,e.stnList]);o.a.useEffect((function(){console.log("new"),J(G.map((function(e){return"number"===typeof e?Boolean(e):Boolean(e.length)}))),K(G[3])}),[G.toString()]),o.a.useEffect((function(){U(Object.keys(n)[F.indexOf(!0)])}),[F]),o.a.useEffect((function(){0!==Z.length&&D(Z[0])}),[Z]),o.a.useEffect((function(){N in e.stnList||_(e.tpo[0])}),[Object.keys(e.stnList).toString()]);var Q=function(t){if("close"===t)e.onClose("close");else{var n=function(e,t,n,a,l){for(var i=w();Object.keys(l).includes(i);)i=w();var o={name:k(i),num:"00",services:["local"],parents:[],children:[],branch:{left:[],right:[]},transfer:{info:[[]],type:"none",tick_direc:"r",paid_area:!0,osi_names:[]},facility:""},s=JSON.parse(JSON.stringify(l));return"before"===e?"centre"===n?(o.parents=l[t].parents,0===l[t].parents.length&&0!==Object(S.c)(t,l)?o.children=l.linestart.children:0!==Object(S.c)(t,l)?(o.children=l[l[t].parents[0]].children.slice(),o.branch.right=l[o.parents[0]].branch.right,s[o.parents[0]].branch.right=[]):(o.children=[t],o.branch.left=l[t].branch.left,s[t].branch.left=[]),o.parents.forEach((function(e){s[e].children=[i]})),o.children.forEach((function(e){s[e].parents=[i]}))):"upper"===n?2===l[t].parents.length?(l[t].branch.left[1]===l[t].parents[0]&&(s[t].branch.left[1]=i),o.parents=l[t].parents.slice(0,1),o.children=[t],o.parents.forEach((function(e){s[e].children=[i]})),s[t].parents[0]=i):(o.parents=l[t].parents,o.children=[t],o.parents.forEach((function(e){s[e].children[0]=i,l[e].branch.right[1]===t&&(s[e].branch.right[1]=i)})),o.children.forEach((function(e){s[e].parents=[i]}))):"lower"===n?2===l[t].parents.length?(l[t].branch.left[1]===l[t].parents[1]&&(s[t].branch.left[1]=i),o.parents=l[t].parents.slice(1),o.children=[t],o.parents.forEach((function(e){s[e].children=[i]})),s[t].parents[1]=i):(o.parents=l[t].parents,o.children=[t],o.parents.forEach((function(e){var n=l[e].children.length;s[e].children[n-1]=i,l[e].branch.right[1]===t&&(s[e].branch.right[1]=i)})),o.children.forEach((function(e){s[e].parents=[i]}))):(s[t].branch.left=["through",i],s[a].branch.right=["through",i],o.parents=[a],o.children=[t],"newupper"===n?(s[a].children.unshift(i),s[t].parents.unshift(i)):(s[a].children.push(i),s[t].parents.push(i))):"centre"===n?(o.children=l[t].children,0===l[t].children.length&&0!=Object(S.c)(t,l)?o.parents=l.lineend.parents:0!=Object(S.c)(t,l)?(o.parents=l[l[t].children[0]].parents,o.branch.left=l[o.children[0]].branch.left,s[o.children[0]].branch.left=[]):(o.parents=[t],o.branch.right=l[t].branch.right,s[t].branch.right=[]),o.children.forEach((function(e){s[e].parents=[i]})),o.parents.forEach((function(e){s[e].children=[i]}))):"upper"===n?2===l[t].children.length?(l[t].branch.right[1]===l[t].children[0]&&(s[t].branch.right[1]=i),o.children=l[t].children.slice(0,1),o.parents=[t],o.children.forEach((function(e){s[e].parents=[i]})),s[t].children[0]=i):(o.children=l[t].children,o.parents=[t],o.children.forEach((function(e){s[e].parents[0]=i,l[e].branch.left[1]===t&&(s[e].branch.left[1]=i)})),o.parents.forEach((function(e){s[e].children=[i]}))):"lower"===n?2===l[t].children.length?(l[t].branch.right[1]===l[t].children[1]&&(s[t].branch.right[1]=i),o.children=l[t].children.slice(1),o.parents=[t],o.children.forEach((function(e){s[e].parents=[i]})),s[t].children[1]=i):(o.children=l[t].children,o.parents=[t],o.children.forEach((function(e){s[e].parents[1===l[e].parents.length?0:1]=i,l[e].branch.left[1]===t&&(s[e].branch.left[1]=i)})),o.parents.forEach((function(e){s[e].children=[i]}))):(s[t].branch.right=["through",i],s[a].branch.left=["through",i],o.children=[a],o.parents=[t],"newupper"===n?(s[a].parents.unshift(i),s[t].children.unshift(i)):(s[a].parents.push(i),s[t].children.push(i))),[i,Object(c.a)({},s,Object(r.a)({},i,o))]}(u,N,z,B,e.stnList),a=Object(l.a)(n,2),i=a[0],o=a[1];e.paramUpdate("stn_list",o),e.onClose(i)}};return o.a.createElement(m.a,{open:e.open,onClose:function(){return Q("close")}},o.a.createElement(b.a,null,t("stations.add.title")),o.a.createElement(g.a,{dividers:!0},o.a.createElement(E.a,null,o.a.createElement(v.a,null,o.a.createElement(O.a,null,o.a.createElement(f.a,null,"control_camera")),o.a.createElement(j.a,{select:!0,style:{width:"100%"},variant:"outlined",label:t("stations.add.prep"),onChange:function(e){return d(e.target.value)},value:u},o.a.createElement(y.a,{key:"before",value:"before"},t("stations.add.before")),o.a.createElement(y.a,{key:"after",value:"after"},t("stations.add.after")))),o.a.createElement(v.a,null,o.a.createElement(O.a,null,o.a.createElement(f.a,null,"near_me")),o.a.createElement(j.a,{select:!0,style:{width:"100%"},variant:"outlined",label:t("stations.add.pivot"),onChange:function(e){return _(e.target.value)},value:N},e.tpo.map((function(t){return o.a.createElement(y.a,{key:t,value:t},Object(p.a)(e.stnList[t]))})))),o.a.createElement(v.a,null,o.a.createElement(O.a,null,o.a.createElement(f.a,null,"share")),o.a.createElement(j.a,{select:!0,style:{width:"100%"},variant:"outlined",label:t("stations.add.loc"),onChange:function(e){return U(e.target.value)},value:z},Object.keys(n).map((function(e,t){return o.a.createElement(y.a,{key:e,value:e,disabled:!F[t]},n[e])})))),o.a.createElement(v.a,{style:{display:["newupper","newlower"].includes(z)?"flex":"none"}},o.a.createElement(O.a,null,o.a.createElement(f.a,null,"undo")),o.a.createElement(j.a,{select:!0,style:{width:"100%"},variant:"outlined",label:t("stations.add.end"),onChange:function(e){return D(e.target.value)},value:B},Z.map((function(t){return o.a.createElement(y.a,{key:t,value:t},Object(p.a)(e.stnList[t]))})))))),o.a.createElement(C.a,null,o.a.createElement(h.a,{onClick:function(){return Q("close")},color:"primary"},t("dialog.cancel")),o.a.createElement(h.a,{onClick:function(){return Q("accept")},color:"primary",autoFocus:!0},t("dialog.ok"))))}),(function(e,t){if(e.open!==t.open)return!1;var n=function(e){return Object.keys(e).reduce((function(t,n){return t+n+function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t+JSON.stringify(e[n])}),"")}}("parents","children","name","num")(e[n])}),"")};return n(e.stnList)===n(t.stnList)})),L=n(123),N=n(143),_=n(24),I=n(125),T=n(141),z=n(137),U=n(128),A=n(136),M=n(23),F=o.a.lazy((function(){return n.e(65).then(n.bind(null,274))})),J=o.a.lazy((function(){return Promise.all([n.e(75),n.e(63)]).then(n.bind(null,253))})),H=o.a.lazy((function(){return n.e(62).then(n.bind(null,254))})),P=o.a.lazy((function(){return Promise.all([n.e(76),n.e(64)]).then(n.bind(null,255))})),B=Object(L.a)((function(e){return Object(N.a)({tab:{padding:"6px 24px",height:48,minWidth:"calc(100% / 4)","& .MuiTab-wrapper":{flexDirection:"row"},"&.MuiTab-labelIcon":{minHeight:"unset","& .MuiTab-wrapper":{"& > *:first-child":{marginBottom:0},"& > *:not(first-child)":{paddingLeft:8}}}}})}));var D=function(e){var t=Object(s.c)().t,n=o.a.useContext(M.b),a=n.param,r=n.dispatch,i=a.stn_list[e.stnId],u=o.a.useState(0),d=Object(l.a)(u,2),p=d[0],E=d[1],v=B(),O=Object(_.a)(),j=Object(I.a)(O.breakpoints.down("sm")),y=o.a.useMemo((function(){return o.a.createElement(T.a,{value:p,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return E(t)},variant:"scrollable",scrollButtons:"off"},[["name","title"],["interchange","transfer_within_a_station"],["branch","share"],["more","more_horiz"]].map((function(e,n){return o.a.createElement(z.a,{label:o.a.createElement("span",null,t("stations.edit.tab."+e[0])),icon:o.a.createElement(f.a,null,e[1]),key:n,className:v.tab})})))}),[p,v.tab]),S=function(t){var n=Object(c.a)({},t,{info:t.info.map((function(e){return e.map((function(e){return 0===Object.values(e).length?a.theme.concat(["\u8f49\u7dab","Line"]):e}))}))});r({type:"UPDATE_STATION_TRANSFER",stnId:e.stnId,transfer:n})};return o.a.createElement(m.a,{onClose:e.onClose,open:e.open,fullScreen:j},o.a.createElement(b.a,null,t("stations.edit.title")),o.a.createElement(g.a,{dividers:!0,style:{padding:"0 16px"}},y,o.a.createElement(U.a,{component:"div",role:"tabpanel"},o.a.createElement(o.a.Suspense,{fallback:o.a.createElement(A.a,null)},function(t){switch(t){case 0:return o.a.createElement(F,{stnId:e.stnId});case 1:return o.a.createElement(J,{stnTrans:i.transfer,onUpdate:S,stnId:e.stnId});case 2:return o.a.createElement(H,{stnId:e.stnId});case 3:return o.a.createElement(P,{facility:i.facility,services:new Set(i.services),onUpdate:function(t,n){return e.onUpdate(t,n)},stnId:e.stnId})}}(p)))),o.a.createElement(C.a,null,o.a.createElement(h.a,{onClick:e.onClose,color:"primary",autoFocus:!0},t("dialog.done"))))},R=n(271),W=n(272),Z=Object(L.a)((function(e){return Object(N.a)({root:{backgroundColor:e.palette.background.paper,height:55,borderRadius:8,boxShadow:e.shadows[1]},rootSize:{margin:8,width:"calc((100% - 96px) / 6)"},rootSizeTablet:{margin:6,width:"calc((100% - 48px) / 4)"},rootSizeMobile:{margin:6,width:"calc((100% - 24px) / 2)"},stnChipText:{display:"block",textAlign:"center"},stnChipTextZH:{fontSize:18,fontWeight:500,lineHeight:"1.2rem"},stnChipTextEN:{fontSize:".75rem",lineHeight:".9rem",whiteSpace:"pre",overflow:"hidden"},addChipLabel:{fontWeight:500,fontSize:"1rem",lineHeight:"1.2rem",textAlign:"center",width:"100%"},stnChipLabel:{width:"100%"}})})),K=o.a.memo((function(e){var t=Object(I.a)("(max-width: 839px) and (min-width: 480px)"),n=Object(I.a)("(max-width: 480px)"),a=Z();return o.a.createElement("div",null,e.tpo.map((function(r,c){var l,i,s,u=o.a.createElement("span",null,o.a.createElement("span",{className:"".concat(a.stnChipText," ").concat(a.stnChipTextZH)},(null===(l=e.stnList[r])||void 0===l?void 0:l.name[0])||""),o.a.createElement("span",{className:"".concat(a.stnChipText," ").concat(a.stnChipTextEN)},(null===(i=e.stnList[r])||void 0===i?void 0:i.name[1].replace("\\","\r\n"))||""));return o.a.createElement(R.a,{key:r,icon:"gzmtr"!==window.urlParams.get("style")?o.a.createElement(o.a.Fragment,null):o.a.createElement(W.a,{style:{backgroundColor:"unset"}},(null===(s=e.stnList[r])||void 0===s?void 0:s.num)||"00"),label:u,onClick:e.onSelection(r),classes:{label:a.stnChipLabel},className:"".concat(a.root," ").concat(n?a.rootSizeMobile:t?a.rootSizeTablet:a.rootSize)})})))}),(function(e,t){if(e.tpo.toString()!==t.tpo.toString())return!1;var n=function(e){return Object.keys(e).reduce((function(t,n){return t+n+function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t+JSON.stringify(e[n])}),"")}}("name","num")(e[n])}),"")};return n(e.stnList)===n(t.stnList)})),G=n(228);function Q(e){var t=Object(s.c)().t;return i.createElement(m.a,{open:e.open},i.createElement(b.a,null,t("stations.remove.title")),i.createElement(g.a,null,i.createElement(G.a,null,i.createElement(s.a,{i18nKey:"stations.remove.msg"},{name:e.stnInfo.name.join()}))),i.createElement(C.a,null,i.createElement(h.a,{onClick:function(){return e.onClose("close")},color:"primary",autoFocus:!0},t("dialog.cancel")),i.createElement(h.a,{onClick:function(){return e.onClose("accept")},color:"primary"},t("stations.remove.button"))))}function V(e){var t=Object(s.c)().t;return i.createElement(m.a,{open:e.open,onClose:e.onClose},i.createElement(b.a,null,t("stations.remove.error.title")),i.createElement(g.a,null,i.createElement(G.a,null,t("stations.remove.error.msg"))),i.createElement(C.a,null,i.createElement(h.a,{onClick:e.onClose,color:"primary",autoFocus:!0},t("dialog.ok"))))}var X=function(e){var t=Object(s.c)().t,n=i.useContext(M.b),a=n.dispatch,r=n.branches,c=function(t){var n=r[0];n.forEach((function(e,r){var c;c="ascend"===t?r.toString().padStart(2,"0"):(n.length-1-r).toString().padStart(2,"0"),a({type:"UPDATE_STATION_NUM",stnId:e,num:c})})),e.onClose()};return i.useMemo((function(){return i.createElement(m.a,{onClose:e.onClose,open:e.open},i.createElement(b.a,null,t("design.autoNum.title")),i.createElement(g.a,null,i.createElement(G.a,null,t("design.autoNum.msg"))),i.createElement(C.a,null,i.createElement(h.a,{onClick:e.onClose,color:"primary",autoFocus:!0},t("dialog.cancel")),i.createElement(h.a,{onClick:function(){return c("ascend")},color:"primary"},t("design.autoNum.ascend")),i.createElement(h.a,{onClick:function(){return c("descend")},color:"primary"},t("design.autoNum.descend"))))}),[e.open])},Y=n(144),q=n(248),$=n(108),ee=n(227),te=Object(L.a)((function(e){return Object(N.a)({fab:{position:"fixed",right:e.spacing(2),bottom:e.spacing(2)}})})),ne=i.memo((function(e){var t=Object(s.c)().t,n=te(),a=i.useState(null),r=Object(l.a)(a,2),c=r[0],o=r[1],u=function(t){return function(){o(null),e.onAction(t)}};return i.createElement(i.Fragment,null,i.createElement(Y.a,{title:t("stations.fabs.tooltip"),"aria-label":"options"},i.createElement(q.a,{color:"primary",className:n.fab,onClick:function(e){return o(e.target)}},i.createElement(f.a,null,"more_vert"))),i.createElement($.a,{anchorEl:c,open:Boolean(c),onClose:function(){return o(null)}},i.createElement(y.a,{onClick:u("add")},i.createElement(O.a,null,i.createElement(f.a,null,"add_box")),i.createElement(ee.a,{primary:t("stations.fabs.add")})),i.createElement(y.a,{onClick:u("reverse")},i.createElement(O.a,null,i.createElement(f.a,null,"cached")),i.createElement(ee.a,{primary:t("stations.fabs.reverse")})),"gzmtr"===window.urlParams.get("style")&&i.createElement(y.a,{onClick:u("autonum")},i.createElement(O.a,null,i.createElement(f.a,null,"filter_1")),i.createElement(ee.a,{primary:t("design.autoNum.button")}))))}),(function(){return!0})),ae=function(e){var t=Object(s.c)().t,n=Object(i.useState)(""),m=Object(l.a)(n,2),b=m[0],g=m[1],E=Object(i.useState)(!1),v=Object(l.a)(E,2),O=v[0],j=v[1],y=Object(i.useState)(!1),C=Object(l.a)(y,2),w=C[0],k=C[1],L=Object(i.useState)(!1),N=Object(l.a)(L,2),_=N[0],I=N[1],T=Object(i.useState)(!1),z=Object(l.a)(T,2),U=z[0],A=z[1],M=Object(i.useState)(!1),F=Object(l.a)(M,2),J=F[0],H=F[1],P=Object(i.useState)(!1),B=Object(l.a)(P,2),R=B[0],W=B[1],Z=function(t){"clickaway"!==t&&(j(!1),"current"===t?e.paramUpdate("current_stn_idx",b):"edit"===t?I(!0):"delete"===t&&A(!0))};return o.a.createElement("div",{style:{width:"100%"}},o.a.createElement(K,{stnList:e.stnList,tpo:e.tpo,onSelection:function(e){return function(){g(e),j(!0)}},addStationClick:function(){return k(!0)}}),o.a.createElement(u.a,{open:O,onClose:function(e,t){return Z(t)},autoHideDuration:5e3,message:Object(p.a)(e.stnList[b]),action:o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{color:"secondary",size:"small",onClick:function(){return Z("current")}},t("stations.current")),o.a.createElement(h.a,{color:"secondary",size:"small",onClick:function(){return Z("edit")}},t("stations.edit.button")),o.a.createElement(h.a,{color:"secondary",size:"small",onClick:function(){return Z("delete")}},t("stations.remove.button")),o.a.createElement(d.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return Z("close")}},o.a.createElement(f.a,{fontSize:"small"},"close")))}),o.a.createElement(ne,{onAction:function(t){if("add"===t&&k(!0),"reverse"===t){var n=function(e){var t=JSON.parse(JSON.stringify(e));return Object.keys(e).forEach((function(n){var a=Object(c.a)({},e[n]);if("linestart"===n)t.lineend.parents=a.children.reverse(),t.lineend.branch={left:a.branch.right,right:[]};else if("lineend"===n)t.linestart.children=a.parents.reverse(),t.linestart.branch={left:[],right:a.branch.left};else{var r=a.children.reverse().map((function(e){switch(e){case"linestart":return"lineend";case"lineend":return"linestart";default:return e}}));t[n].children=a.parents.reverse().map((function(e){switch(e){case"linestart":return"lineend";case"lineend":return"linestart";default:return e}})),t[n].parents=r,t[n].branch.left=a.branch.right,t[n].branch.right=a.branch.left}})),t}(e.stnList);e.paramUpdate("stn_list",n)}"autonum"===t&&W(!0)}}),o.a.createElement(x,{open:w,stnList:e.stnList,tpo:e.tpo,onClose:function(e){"close"===e?k(!1):(k(!1),g(e),I(!0))},paramUpdate:e.paramUpdate}),o.a.createElement(D,{open:_,onClose:function(){return I(!1)},onUpdate:function(t,n,l){var i=b;if("facility"===n&&e.paramUpdate("stn_list",Object(c.a)({},e.stnList,Object(r.a)({},i,Object(c.a)({},e.stnList[i],{facility:t})))),"services"===n){var o=new Set(e.stnList[i].services);!1===t.selected?o.delete(t.chipId):o.add(t.chipId),e.paramUpdate("stn_list",Object(c.a)({},e.stnList,Object(r.a)({},i,Object(c.a)({},e.stnList[i],{services:Object(a.a)(o)}))))}},stnId:b}),o.a.createElement(Q,{open:U,onClose:function(t){var n=b;if(A(!1),"accept"===t){var a=function(e,t){var n=JSON.parse(JSON.stringify(t)),a=n[e].parents,r=n[e].children,c=!0;for(var l in n)if(![e,"linestart","lineend"].includes(l)&&0===Object(S.c)(l,n)){c=!1;break}if(2===a.length&&2===r.length)return!1;if(c)return!1;if(4===Object.keys(n).length)return!1;if(2===a.length||2===r.length)console.log("this case"),a.forEach((function(e){n[e].children=r})),r.forEach((function(e){n[e].parents=a})),1===a.length&&(n[a[0]].branch.right=n[e].branch.right),1===r.length&&(n[r[0]].branch.left=n[e].branch.left);else if(2===n[a[0]].children.length&&2===n[r[0]].parents.length){var i=n[a[0]].children.indexOf(e),o=n[r[0]].parents.indexOf(e);n[a[0]].children.splice(i,1),n[r[0]].parents.splice(o,1),n[a[0]].branch.right=[],n[r[0]].branch.left=[]}else a.forEach((function(t){var a=n[t].children.indexOf(e);r.length?n[t].children[a]=r[0]:n[t].children.splice(a,1),n[t].branch.right[1]===e&&(n[t].branch.right[1]=r[0])})),r.forEach((function(t){var r=n[t].parents.indexOf(e);a.length?n[t].parents[r]=a[0]:n[t].parents.splice(r,1),n[t].branch.left[1]===e&&(n[t].branch.left[1]=a[0])}));return delete n[e],n}(n,e.stnList);if(!1===a)H(!0);else{if(e.currentId===n){var r=Object.keys(a).filter((function(e){return!["linestart","lineend"].includes(e)}))[0];e.paramUpdate("current_stn_idx",r)}e.paramUpdate("stn_list",a)}}},stnInfo:e.stnList[b]||e.stnList.linestart}),o.a.createElement(V,{open:J,onClose:function(){return H(!1)}}),"gzmtr"===window.urlParams.get("style")&&o.a.createElement(X,{open:R,onClose:function(){return W(!1)}}))};t.default=ae}}]);
//# sourceMappingURL=panelStations.05f1856c.chunk.js.map