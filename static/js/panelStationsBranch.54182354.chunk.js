(this["webpackJsonprail-map-generator"]=this["webpackJsonprail-map-generator"]||[]).push([[63],{94:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(6),i=n(2),s=n(10),c=n(5);t.default=function(e){var t=Object(l.useTranslation)().t;return r.a.createElement(i.List,null,r.a.createElement(i.ListItem,null,r.a.createElement(i.ListItemText,null,r.a.createElement("h3",{style:{margin:0}},t("stations.edit.branch.left")))),r.a.createElement(o,{stnId:e.stnId,direction:"left"}),r.a.createElement(i.Divider,null),r.a.createElement(i.ListItem,null,r.a.createElement(i.ListItemText,null,r.a.createElement("h3",{style:{margin:0}},t("stations.edit.branch.right")))),r.a.createElement(o,{stnId:e.stnId,direction:"right"}))};var o=function(e){var t=Object(a.useContext)(c.a).rmgStyle,n=Object(a.useContext)(c.b).param.stn_list[e.stnId].branch[e.direction];return r.a.useMemo((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,e),n[0]&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d,e),"shmetro"!==t&&r.a.createElement(m,e)))}),[e.stnId,e.direction,n[0]])},u=function(e){var t=Object(l.useTranslation)().t,n=r.a.useContext(c.b),a=n.param,s=n.dispatch,o=a.stn_list[e.stnId].branch[e.direction],u=function(t){var n=t.target.value;"na"!==n&&n!==o[0]&&s({type:"UPDATE_STATION_BRANCH_TYPE",stnId:e.stnId,direction:e.direction,branchType:n})};return r.a.useMemo((function(){return r.a.createElement(i.ListItem,null,r.a.createElement(i.ListItemIcon,null,r.a.createElement(i.Icon,null,"merge_type")),r.a.createElement(i.TextField,{select:!0,style:{width:"100%"},variant:"outlined",label:t("stations.edit.branch.type.title"),onChange:u,value:o[0]||"na"},r.a.createElement(i.MenuItem,{key:"na",value:"na",disabled:0!==o.length},t("stations.edit.branch.type.na")),r.a.createElement(i.MenuItem,{key:"through",value:"through",disabled:0===o.length},t("stations.edit.branch.type.through")),r.a.createElement(i.MenuItem,{key:"nonthrough",value:"nonthrough",disabled:0===o.length},t("stations.edit.branch.type.nonThrough"))))}),[e.stnId,o[0]])},d=function(e){var t=Object(l.useTranslation)().t,n=Object(a.useContext)(c.a).rmgStyle,o=Object(a.useContext)(c.b),u=o.param,d=o.dispatch,m=u.stn_list[e.stnId],h=m.branch[e.direction],I="left"===e.direction?m.parents:m.children,p=function(t){var n=t.target.value;if(h[1]!==n){var a,r=n,l=u.stn_list;if("right"===e.direction){for(;1===l[r].parents.length;)r=l[r].children[0];a=l[r].parents[I.indexOf(n)]}else{for(;1===l[r].children.length;)r=l[r].parents[0];a=l[r].children[I.indexOf(n)]}d({type:"UPDATE_STATION_BRANCH_FIRST",branches:[{stnId:e.stnId,direction:e.direction,first:n},{stnId:r,direction:"left"===e.direction?"right":"left",first:a}]})}};return r.a.useMemo((function(){return r.a.createElement(i.ListItem,null,r.a.createElement(i.ListItemIcon,null,r.a.createElement(i.Icon,{style:{transform:"left"===e.direction?"scale(-1)":"scale(1)"}},"share")),r.a.createElement(i.TextField,{select:!0,style:{width:"100%"},variant:"outlined",label:t("stations.edit.branch.first"),onChange:p,value:h[1]||I[0]},I.map((function(e){return r.a.createElement(i.MenuItem,{key:e,value:e},Object(s.a)(u.stn_list[e],n))}))))}),[e.stnId,h[1],I.toString()])},m=function(e){var t=Object(l.useTranslation)().t,n=r.a.useContext(c.b),a=n.param,s=n.dispatch,o=a.stn_list[e.stnId],u=o.branch[e.direction],d="left"===e.direction?o.parents:o.children,m=function(t){var n="lower"===t.target.value?1:0;if(d.indexOf(u[1])!==n){var r=u[1],l=a.stn_list;if("right"===e.direction){for(;1===l[r].parents.length;)r=l[r].children[0];s({type:"UPDATE_STATION_BRANCH_POS",right:e.stnId,left:r})}else{for(;1===l[r].children.length;)r=l[r].parents[0];s({type:"UPDATE_STATION_BRANCH_POS",left:e.stnId,right:r})}}};return r.a.useMemo((function(){return r.a.createElement(i.ListItem,null,r.a.createElement(i.ListItemIcon,null,r.a.createElement(i.Icon,null,"swap_vert")),r.a.createElement(i.TextField,{select:!0,style:{width:"100%"},variant:"outlined",label:t("stations.edit.branch.pos.title"),onChange:m,value:1===d.indexOf(u[1])?"lower":"upper"},r.a.createElement(i.MenuItem,{key:"upper",value:"upper"},t("stations.edit.branch.pos.upper")),r.a.createElement(i.MenuItem,{key:"lower",value:"lower"},t("stations.edit.branch.pos.lower"))))}),[e.stnId,u[1],d.toString()])}}}]);
//# sourceMappingURL=panelStationsBranch.54182354.chunk.js.map