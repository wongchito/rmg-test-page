(this["webpackJsonprail-map-generator"]=this["webpackJsonprail-map-generator"]||[]).push([[69],{146:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,"a",(function(){return r}))},185:function(e,t,n){"use strict";var r=n(9),a=n(0);t.a=function(e){var t=function(e){switch(e){case"gz28":case"gzgf":return 60;case"gz1":case"gz3":return 40;case"gz1421":return 20;default:return 0}}(e.variant),n=a.useMemo((function(){switch(e.variant){case"gz1":return a.createElement("circle",{cy:-28,r:16,fill:"red"});case"gz28":return a.createElement("ellipse",{rx:24,ry:12,fill:"orange"});case"gz3":return a.createElement("rect",{x:-15,y:-25,height:30,width:30,fill:"red"});case"gzgf":return a.createElement("ellipse",{rx:24,ry:12,fill:"white"});case"gz1421":return a.createElement("ellipse",{cy:-8,rx:24,ry:12,fill:"orange"});default:return a.createElement(a.Fragment,null)}}),[e.variant]);return a.createElement("g",null,a.createElement("rect",{id:"strip_gz",style:Object(r.a)({},"--height","".concat(t,"px"))}),a.createElement("g",{style:{transform:"translate(calc(var(--rmg-svg-width) / 2),calc(var(--rmg-svg-height) - 30px))"}},e.isShowLight&&n),e.isShowPSD&&a.createElement(c,e))};var c=a.memo((function(e){return a.createElement("g",{id:"big_psd",fill:["gz3","gz1421","gz1"].includes(e.variant)?"var(--rmg-theme-fg)":"#000",style:Object(r.a)({},"--psd-dy",["gz1","gz3"].includes(e.variant)?"82px":"gz1421"===e.variant?"62px":"58px")},a.createElement("rect",{height:40,width:40,rx:4,x:-20,fill:["gz3","gz1421","gz1"].includes(e.variant)?"var(--rmg-theme-colour)":"#fff"}),a.createElement("text",{className:"rmg-name__en",fontSize:20,dy:12},e.isShowPSD),a.createElement("text",{className:"rmg-name__zh",fontSize:12,dy:26},"\u5c4f\u853d\u95e8"),a.createElement("text",{className:"rmg-name__en",fontSize:6.5,dy:36},"Screen Door"))}),(function(e,t){return e.variant===t.variant&&e.isShowPSD===t.isShowPSD}))},186:function(e,t,n){"use strict";var r=n(13),a=n(146),c=n(0);t.a=function(e){var t=e.lineNum,n=e.stnNum,l=Object(a.a)(e,["lineNum","stnNum"]),m=c.useRef(),i=c.useState({width:15.03125}),s=Object(r.a)(i,2),u=s[0],o=s[1];c.useEffect((function(){return o(m.current.getBBox())}),[t]);var g=u.width>15.03125?15.03125/u.width:1,d=2===t.length?g:1;return c.createElement("g",Object.assign({textAnchor:"middle",fontSize:13.5},l),c.useMemo((function(){return c.createElement(c.Fragment,null,c.createElement("g",{transform:"translate(-9.25,0)scale(".concat(g,")")},c.createElement("text",{ref:m,className:"rmg-name__zh"},t)),c.createElement("g",{transform:"translate(9.25,0)scale(".concat(d,")")},c.createElement("text",{className:"rmg-name__zh"},n)))}),[u.width,t,n]))}},278:function(e,t,n){"use strict";n.r(t);var r=n(146),a=n(9),c=n(0),l=n(23),m=n(185),i=n(53),s=n(13),u=n(186),o=function(){var e,t=c.useContext(l.b).param,n=t.stn_list[t.current_stn_idx],r=c.useRef(),m=c.useState({width:0}),i=Object(s.a)(m,2),u=i[0],o=i[1];c.useEffect((function(){return o(r.current.getBBox())}),[n.name[0],n.name[1]]);var x=n["l"===t.direction?"parents":"children"];return c.createElement("g",null,c.createElement(g,{ref:r,curName:n.name,style:Object(a.a)({},"--translate-y","".concat(.5*t.svg_height-50-18*(n.name[1].split("\\").length-1),"px"))}),c.createElement(d,{lineNum:t.line_num,stnNum:n.num,style:(e={},Object(a.a)(e,"--translate-x","".concat((t.svgWidth.runin+u.width)/2+55,"px")),Object(a.a)(e,"--translate-y","".concat(.5*t.svg_height-30-18*(n.name[1].split("\\").length-1),"px")),e)}),x.includes("linestart")||x.includes("lineend")?c.createElement(c.Fragment,null):1===x.length?c.createElement(f,{nextId:x[0],nameBBox:u}):c.createElement(h,{nextIds:x,nameBBox:u}))},g=c.forwardRef((function(e,t){var n=e.curName,a=Object(r.a)(e,["curName"]);return c.createElement("g",Object.assign({id:"big_name",ref:t},a),c.useMemo((function(){return c.createElement(c.Fragment,null,c.createElement("text",{className:"rmg-name__zh",fontSize:90},n[0]),c.createElement("g",{fontSize:36,className:"rmg-name__en"},n[1].split("\\").map((function(e,t){return c.createElement("text",{key:t,dy:70+36*t},e)}))))}),[n]))})),d=function(e){var t=e.lineNum,n=e.stnNum,a=Object(r.a)(e,["lineNum","stnNum"]);return c.createElement("g",Object.assign({id:"big_stn_num"},a),c.useMemo((function(){return c.createElement(c.Fragment,null,c.createElement("path",{className:"rmg-stn rmg-stn--future",d:"M 0,12.95 V -12.95 H -12.95 a 12.95,12.95 0 0,0 0,25.9 h 25.9 a 12.95,12.95 0 0,0 0,-25.9 H 0 "}),c.createElement(u.a,Object.assign({transform:"scale(1.4)"},{lineNum:t,stnNum:n})))}),[t,n]))},f=function(e){var t,n=c.useContext(l.b).param,r=c.useState({width:0}),m=Object(s.a)(r,2),i=m[0],u=m[1],o=c.createRef();c.useEffect((function(){return u(o.current.getBBox())}),[]);var g=n.stn_list[e.nextId].name[0].length,d=(n.svgWidth.runin-e.nameBBox.width)/2;return c.createElement(c.Fragment,null,c.createElement("g",{id:"big_next"},c.createElement("g",{textAnchor:"middle",style:Object(a.a)({},"--translate-x","l"===n.direction?"80px":"".concat(g<=2?n.svgWidth.runin-45-i.width-70:n.svgWidth.runin-45-i.width-52.5,"px"))},c.createElement("text",{className:"rmg-name__zh"},"\u4e0b\u7ad9"),c.createElement("text",{className:"rmg-name__en",dy:30},"Next")),c.createElement("g",{textAnchor:"start",ref:o,style:Object(a.a)({},"--translate-x","l"===n.direction?"".concat(g<=2?150:132.5,"px"):"".concat(n.svgWidth.runin-45-i.width,"px"))},c.createElement("text",{className:"rmg-name__zh"},n.stn_list[e.nextId].name[0]),n.stn_list[e.nextId].name[1].split("\\").map((function(e,t){return c.createElement("text",{className:"rmg-name__en",dy:30+17*t,key:t},e)})))),c.createElement("path",{id:"arrow",d:"M 60,60 L 0,0 L 60,-60 H 100 L 55,-15 H 160 V 15 H 55 L 100,60z",fill:"black",style:(t={},Object(a.a)(t,"--translate-x","l"===n.direction?"".concat((115+35*((g<=2?1:.5)+g)+d)/2-20,"px"):"".concat((n.svgWidth.runin-45-i.width-(g<=2?105:87.5)+d+e.nameBBox.width+55+25.9)/2+20,"px")),Object(a.a)(t,"--rotate","l"===n.direction?"0deg":"180deg"),t)}))},h=function(e){var t,n=c.useContext(l.b),r=n.param,m=n.routes,u=c.useState({width:0}),o=Object(s.a)(u,2),g=o[0],d=(o[1],e.nextIds.map((function(e){return m.filter((function(t){return-1!==t.indexOf(e)})).map((function(e){return e.filter((function(e){return!["linestart","lineend"].includes(e)}))}))})).map((function(e){return"l"===r.direction?Array.from(new Set(e.map((function(e){return e[0]})))).reverse():Array.from(new Set(e.map((function(e){return e.reverse()[0]}))))}))),f=Math.max.apply(Math,Object(i.a)(e.nextIds.map((function(e){return r.stn_list[e].name[0].length})))),h=(r.svgWidth.runin-e.nameBBox.width)/2;return c.createElement(c.Fragment,null,c.createElement("g",{id:"big_next_2"},e.nextIds.map((function(e,t){return c.createElement(c.Fragment,{key:t},c.createElement("g",{textAnchor:"middle",style:Object(a.a)({},"--translate-x","l"===r.direction?"72px":"".concat(r.svgWidth.runin-45-g.width-41,"px"))},c.createElement("text",{className:"rmg-name__zh"},"\u4e0b\u7ad9"),c.createElement("text",{className:"rmg-name__en",y:22},"Next")),c.createElement("g",{textAnchor:"start",style:Object(a.a)({},"--translate-x","l"===r.direction?"113px":"".concat(r.svgWidth.runin-45-g.width,"px"))},c.createElement("text",{className:"rmg-name__zh"},r.stn_list[e].name[0]),r.stn_list[e].name[1].split("\\").map((function(e,t){return c.createElement("text",{key:t,className:"rmg-name__en",y:22+13*t},e)})),c.createElement("text",{className:"rmg-name__zh",y:-35},d[t].map((function(e){return r.stn_list[e].name[0]})).join("/")+"\u65b9\u5411"),c.createElement("text",{className:"rmg-name__en rmg-name__gzmtr--next2-dest",y:-20},"Towards "+d[t].map((function(e){return r.stn_list[e].name[1]})).join("/").replace("\\"," "))))}))),c.createElement("path",{id:"arrow",d:"M 60,60 L 0,0 L 60,-60 H 100 L 55,-15 H 160 V 15 H 55 L 100,60z",fill:"black",style:(t={},Object(a.a)(t,"--translate-x","l"===r.direction?"".concat((99+27*(1+f)+h)/2-20,"px"):"".concat((r.svgWidth.runin-45-g.width-41-27+h+e.nameBBox.width+55+25.9)/2+20,"px")),Object(a.a)(t,"--rotate","l"===r.direction?"0deg":"180deg"),t)}))},x=(t.default=function(){var e=c.useContext(l.b).param;return c.createElement(c.Fragment,null,c.createElement(m.a,{variant:e.info_panel_type,isShowLight:!0,isShowPSD:e.psd_num}),c.createElement(x,{num:e.platform_num,style:Object(a.a)({},"--translate-x","".concat("l"===e.direction?e.svgWidth.runin-100:100,"px"))}),c.createElement(o,null))},function(e){var t=e.num,n=Object(r.a)(e,["num"]);return c.createElement("g",Object.assign({id:"platform"},n),c.useMemo((function(){return c.createElement(c.Fragment,null,c.createElement("circle",{cx:0,cy:0,r:30,fill:"var(--rmg-theme-colour)"}),c.createElement("text",{className:"rmg-name__en",fontSize:38,dy:-9.5},t),c.createElement("text",{className:"rmg-name__zh",fontSize:13,dy:10},"\u7ad9\u53f0"),c.createElement("text",{className:"rmg-name__en",fontSize:9,dy:21},"Platform"))}),[t]))})}}]);
//# sourceMappingURL=runinMTR.698f69e6.chunk.js.map