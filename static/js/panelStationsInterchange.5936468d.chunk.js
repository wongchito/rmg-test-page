(this["webpackJsonprail-map-generator"]=this["webpackJsonprail-map-generator"]||[]).push([[63],{188:function(e,t,n){var a={"./beijing":[160,3],"./beijing.ts":[160,3],"./chengdu":[161,9],"./chengdu.ts":[161,9],"./chongqing":[162,20],"./chongqing.ts":[162,20],"./dongguan":[163,23],"./dongguan.ts":[163,23],"./edinburgh":[164,24],"./edinburgh.ts":[164,24],"./foshan":[165,4],"./foshan.ts":[165,4],"./glasgow":[166,5],"./glasgow.ts":[166,5],"./guangzhou":[167,6],"./guangzhou.ts":[167,6],"./hongkong":[168,7],"./hongkong.ts":[168,7],"./kaohsiung":[169,8],"./kaohsiung.ts":[169,8],"./london":[170,10],"./london.ts":[170,10],"./macau":[171,11],"./macau.ts":[171,11],"./newtaipei":[172,12],"./newtaipei.ts":[172,12],"./other":[173,13],"./other.ts":[173,13],"./sanfrancisco":[174,14],"./sanfrancisco.ts":[174,14],"./seoul":[175,15],"./seoul.ts":[175,15],"./shanghai":[176,16],"./shanghai.ts":[176,16],"./shenzhen":[177,17],"./shenzhen.ts":[177,17],"./taipei":[178,18],"./taipei.ts":[178,18],"./tokyo":[179,19],"./tokyo.ts":[179,19],"./toronto":[180,21],"./toronto.ts":[180,21],"./xi'an":[181,22],"./xi'an.ts":[181,22]};function o(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],o=t[0];return n.e(t[1]).then((function(){return n(o)}))}o.keys=function(){return Object.keys(a)},o.id=188,e.exports=o},189:function(e,t,n){"use strict";var a=n(0),o=n(26),r=n(123),i=n(143),l=n(103),c=n(231),s=n(261),u=Object(r.a)((function(){return Object(i.a)({listItemIcon:{width:"1em",fontSize:"1.5rem",textAlign:"center"}})}));t.a=function(e){var t=Object(o.c)().t,n=u();return a.useMemo((function(){return a.createElement(a.Fragment,null,a.createElement(l.a,null,a.createElement(c.a,null,a.createElement("span",{className:n.listItemIcon},"\u6f22")),a.createElement(s.a,{style:{width:"100%"},variant:"outlined",label:t("stations.edit.name.nameZH"),onChange:e.onUpdate(0),value:e.name[0]})),a.createElement(l.a,null,a.createElement(c.a,null,a.createElement("span",{className:n.listItemIcon},"A")),a.createElement(s.a,{style:{width:"100%"},variant:"outlined",label:t("stations.edit.name.nameEN"),onChange:e.onUpdate(1),value:e.name[1],helperText:t("stations.edit.name.nameENHelper")})))}),[e.name.toString()])}},190:function(e,t,n){"use strict";var a=n(53),o=n(0),r=n(26),i=n(123),l=n(143),c=n(269),s=n(250),u=n(251),m=n(133),h=n(103),d=n(102),g=n(132),p=n(274),f=n(252),E=n(234),y=n(3),v=n(13),b=n(231),C=n(261),I=n(134),N=n(144),T=n(54),z=[{id:"beijing",country:"CN",name:{en:"Beijing",zh:"\u5317\u4eac"}},{id:"chengdu",country:"CN",name:{en:"Chengdu",zh:"\u6210\u90fd"}},{id:"chongqing",country:"CN",name:{en:"Chongqing","zh-Hans":"\u91cd\u5e86","zh-Hant":"\u91cd\u6176"}},{id:"dongguan",country:"CN",name:{en:"Dongguan","zh-Hans":"\u4e1c\u839e","zh-Hant":"\u6771\u839e"}},{id:"edinburgh",country:"GBSCT",name:{en:"Edinburgh",ga:"D\xf9n \xc8ideann","zh-Hans":"\u7231\u4e01\u5821","zh-Hant":"\u611b\u4e01\u5821"}},{id:"foshan",country:"CN",name:{en:"Foshan",zh:"\u4f5b\u5c71"}},{id:"glasgow",country:"GBSCT",name:{en:"Glasgow",ga:"Glaschu",zh:"\u683c\u62c9\u65af\u54e5"}},{id:"guangzhou",country:"CN",name:{en:"Guangzhou","zh-Hans":"\u5e7f\u5dde","zh-Hant":"\u5ee3\u5dde"}},{id:"hongkong",country:"HK",name:{en:"Hong Kong",zh:"\u9999\u6e2f"}},{id:"kaohsiung",country:"TW",name:{en:"Kaohsiung",zh:"\u9ad8\u96c4"}},{id:"london",country:"GBENG",name:{en:"London","zh-Hans":"\u4f26\u6566","zh-Hant":"\u502b\u6566"}},{id:"macau",country:"MO",name:{en:"Macao",pt:"Macau","zh-Hans":"\u6fb3\u95e8","zh-Hant":"\u6fb3\u9580"}},{id:"newtaipei",country:"TW",name:{en:"New Taipei",zh:"\u65b0\u5317"}},{id:"sanfrancisco",country:"US",name:{en:"San Francisco","zh-Hans":"\u65e7\u91d1\u5c71","zh-HK":"\u4e09\u85e9\u5e02","zh-TW":"\u820a\u91d1\u5c71"}},{id:"seoul",country:"KR",name:{en:"Seoul (Metropolitan Area)",ko:"\uc11c\uc6b8(\uc218\ub3c4\uad8c)","zh-Hans":"\u9996\u5c14\uff08\u9996\u90fd\u5708\uff09","zh-Hant":"\u9996\u723e\uff08\u9996\u90fd\u5708\uff09"}},{id:"shanghai",country:"CN",name:{en:"Shanghai",zh:"\u4e0a\u6d77"}},{id:"shenzhen",country:"CN",name:{en:"Shenzhen",zh:"\u6df1\u5733"}},{id:"taipei",country:"TW",name:{en:"Taipei","zh-Hans":"\u53f0\u5317","zh-Hant":"\u81fa\u5317"}},{id:"tokyo",country:"JP",name:{en:"Tokyo (Greater Tokyo Area)",ja:"\u6771\u4eac\uff08\u9996\u90fd\u570f\uff09","zh-Hans":"\u4e1c\u4eac\uff08\u9996\u90fd\u5708\uff09","zh-Hant":"\u6771\u4eac\uff08\u9996\u90fd\u5708\uff09"}},{id:"toronto",country:"CA",name:{en:"Toronto","zh-Hans":"\u591a\u4f26\u591a","zh-Hant":"\u591a\u502b\u591a"}},{id:"xian",country:"CN",name:{en:"Xi'an",zh:"\u897f\u5b89"}},{id:"other",country:"UN",name:{en:"Customise (Beta)","zh-Hans":"\u81ea\u5b9a\u4e49 (Beta)","zh-Hant":"\u81ea\u8a02 (Beta)"}}],O=Object(i.a)((function(){return Object(l.a)({cityItem:{display:"flex",flexDirection:"row",alignItems:"center"},menuItemSpan:{padding:"0 .3rem"},button:{borderRadius:"50%",height:28,width:28,minWidth:0,marginRight:8,border:"solid",padding:0},inputColour:{position:"absolute",width:0,height:0,left:27,top:32},buttonContainer:{display:"flex",flexShrink:1}})})),S=o.memo((function(e){var t=O(),a=Object(r.c)(),i=a.t,l=a.i18n,c=o.useState(e.theme[2]),s=Object(v.a)(c,2),u=s[0],m=s[1],d=function(e){var t=o.useState([]),a=Object(v.a)(t,2),r=a[0],i=a[1],l=e[0]?n(188)("./".concat(e[0])).then((function(e){return e.default})):Promise.resolve([]);return o.useEffect((function(){"undefined"!==typeof e[0]&&("other"===e[0]?l.then((function(t){i(t.map((function(t,n){return 0===n?Object(y.a)({},t,{colour:e[2],fg:e[3]||"#fff"}):Object(y.a)({},t)})))})):l.then((function(e){return i(e)})))}),[e.toString()]),r}(e.theme);o.useEffect((function(){if(0!==d.length&&!d.filter((function(t){return t.id===e.theme[1]})).length){var t=[e.theme[0],d[0].id,d[0].colour,d[0].fg||"#fff"];e.onUpdate("theme",t)}}),[d]);o.useEffect((function(){m(e.theme[2])}),[e.theme[2]]);return o.createElement(o.Fragment,null,o.createElement(h.a,null,o.createElement(b.a,null,o.createElement(g.a,null,"location_city")),o.createElement(C.a,{select:!0,style:{width:"100%"},variant:"outlined",label:i("colour.city"),onChange:function(t){var n=e.theme.map((function(e,n){return 0===n?t.target.value:e}));e.onUpdate("theme",n)},value:e.theme[0]},z.map((function(e){return o.createElement(I.a,{key:e.id,value:e.id},o.createElement("span",{className:t.cityItem},o.createElement(j,{code:e.country}),o.createElement("span",null,Object(T.b)(e.name,l.languages))))})))),o.createElement(h.a,null,o.createElement(b.a,null,o.createElement(g.a,null,"subway")),o.createElement(C.a,{select:!0,style:{width:"100%"},variant:"outlined",label:i("colour.line"),onChange:function(t){var n=t.target.value,a=[e.theme[0],n,d.filter((function(e){return e.id===n}))[0].colour,d.filter((function(e){return e.id===n}))[0].fg||"#fff"];e.onUpdate("theme",a)},value:e.theme[1]},d.map((function(e){return o.createElement(I.a,{key:e.id,value:e.id},o.createElement("span",{className:t.menuItemSpan,style:{backgroundColor:e.colour,color:e.fg||"#fff"}},Object(T.b)(e.name,l.languages)))})))),o.createElement(h.a,null,o.createElement("div",{className:t.buttonContainer},o.createElement("input",{type:"color",id:"input-color",value:e.theme[2],onChange:function(t){var n=t.target.value;if(m(n),"other"!==e.theme[0]){var a=["other",e.theme[1],n,e.theme[3]];e.onUpdate("theme",a)}else{var o=e.theme.map((function(e,t){return 2===t?n:e}));e.onUpdate("theme",o)}},className:t.inputColour}),o.createElement("label",{htmlFor:"input-color"},o.createElement(N.a,{title:i("colour.tooltip"),"aria-label":"colour picker"},o.createElement(E.a,{className:t.button,style:{backgroundColor:e.theme[2],borderColor:e.theme[3]||"#fff"},variant:"contained",component:"span"}," ")))),o.createElement(C.a,{error:!(null===u||void 0===u?void 0:u.match(/^#[0-9a-fA-f]{6}$/g)),style:{width:"100%",marginRight:5},variant:"outlined",label:i("colour.colour"),onChange:function(t){var n=t.target.value;if(null!==n.match(/^#[0-9a-fA-f]{0,6}$/))if(m(n),"other"!==e.theme[0])if(null!==n.match(/^#[0-9a-fA-f]{6}$/)){var a=["other",e.theme[1],n,e.theme[3]];e.onUpdate("theme",a)}else{var o=["other",e.theme[1],e.theme[2],e.theme[3]];e.onUpdate("theme",o)}else if(null!==n.match(/^#[0-9a-fA-f]{6}$/)){var r=e.theme.map((function(e,t){return 2===t?n:e}));e.onUpdate("theme",r)}},value:null===u||void 0===u?void 0:u.toUpperCase()}),o.createElement(C.a,{select:!0,style:{width:"100%"},variant:"outlined",label:i("colour.fg"),onChange:function(t){var n=["other","other",e.theme[2],t.target.value];e.onUpdate("theme",n)},value:e.theme[3]||"#fff"},o.createElement(I.a,{key:"#fff",value:"#fff"},i("colour.fgWhite")),o.createElement(I.a,{key:"#000",value:"#000"},i("colour.fgBlack")))))}),(function(e,t){return e.theme.toString()===t.theme.toString()})),k=Object(i.a)((function(){return Object(l.a)({img:{height:20,marginRight:"0.2rem"}})}));function j(e){var t,n=Object(r.c)().i18n,i=k(),l=[];2===e.code.length?l=e.code.toUpperCase().split("").map((function(e){return(e.codePointAt(0)+127397).toString(16).toUpperCase()})):(t=l=["1F3F4","E007F"]).splice.apply(t,[1,0].concat(Object(a.a)(e.code.toUpperCase().split("").map((function(e){return(e.codePointAt(0)+917536).toString(16).toUpperCase()})))));return["zh-CN","zh-Hans"].includes(n.language)&&"TW"===e.code&&(l=["1F3F4"]),-1!==navigator.platform.indexOf("Win32")||-1!==navigator.platform.indexOf("Win64")?o.createElement("img",{src:"./images/flags/".concat(l.join("-"),".svg"),className:i.img}):o.createElement("span",null,String.fromCodePoint.apply(String,Object(a.a)(l.map((function(e){return parseInt(e,16)})))))}var _=Object(i.a)((function(e){return Object(l.a)({paperRoot:{width:250},listItemPaper:{justifyContent:"center"},iconRoot:{position:"absolute",color:e.palette.action.active},inputBaseRoot:{display:"block"},inputBaseInputZH:{textAlign:"center",fontSize:36,padding:0,paddingTop:6,height:45},inputBaseInputEN:{textAlign:"center",fontSize:18,padding:0,paddingBottom:6,height:"auto"}})})),H=o.memo((function(e){var t=_(),n=Object(r.c)().t,a=function(t,n){var a=e.lineName.map((function(e,a){return a===n?t:e}));e.onUpdate("name",a)},i=function(){e.onClose()};return o.createElement(c.a,{onClose:i,open:e.open},o.createElement(s.a,null,n("colour.title")),o.createElement(u.a,{dividers:!0},o.createElement(m.a,null,o.createElement(h.a,{className:t.listItemPaper},o.createElement(d.a,{className:t.paperRoot,style:{backgroundColor:e.theme[2]}},o.createElement(g.a,{className:t.iconRoot},"edit"),o.createElement(p.a,{value:e.lineName[0],classes:{root:t.inputBaseRoot,input:t.inputBaseInputZH},style:{color:e.theme[3]||"#fff"},onChange:function(e){return a(e.target.value,0)},autoFocus:!0}),o.createElement(p.a,{value:e.lineName[1],classes:{root:t.inputBaseRoot,input:t.inputBaseInputEN},style:{color:e.theme[3]||"#fff"},onChange:function(e){return a(e.target.value,1)}}))),o.createElement(S,{theme:e.theme,onUpdate:e.onUpdate}))),o.createElement(f.a,null,o.createElement(E.a,{onClick:i,color:"primary"},n("dialog.done"))))}),(function(e,t){return e.open===t.open&&e.lineName.toString()===t.lineName.toString()&&e.theme.toString()===t.theme.toString()}));t.a=H},258:function(e,t,n){"use strict";n.r(t);var a=n(9),o=n(53),r=n(3),i=n(13),l=n(0),c=n(26),s=n(133),u=n(103),m=n(232),h=n(199),d=n(144),g=n(131),p=n(132),f=n(135),E=n(234),y=n(123),v=n(143),b=n(276),C=n(269),I=n(250),N=n(251),T=n(252),z=n(231),O=n(201),S=n(203),k=n(227),j=n(200),_=n(23),H=n(190),x=n(189);t.default=function(e){var t=Object(c.c)().t,n=l.useContext(_.b),a=(n.param,n.dispatch,l.useState(!1)),o=Object(i.a)(a,2),y=o[0],v=o[1],b=function(t){var n,a=e.stnTrans.info.map((function(e){return e.length}));if(1===a.length&&(a[1]=0),a[t]+=1,n=3===a[0]&&0===a[1]?"int3":2===a[0]&&1===a[1]?"osi31":2===a[0]&&0===a[1]?"int3":1===a[0]&&2===a[1]?"osi22":1===a[0]&&1===a[1]?"osi21":1===a[0]&&0===a[1]?"int2":0===a[0]&&3===a[1]?"osi13":0===a[0]&&2===a[1]?"osi12":0===a[0]&&1===a[1]?"osi11":0===a[0]&&0===a[1]?"none":"int3",console.log(n),1===e.stnTrans.info.length&&1===t){var o=Object(r.a)({},e.stnTrans,{type:n,osi_names:n.includes("osi")?[e.stnTrans.osi_names[0]||["\u8eca\u7ad9\u540d","Stn Name"]]:[],info:e.stnTrans.info.concat([[[,,,,,,]]])});console.log(o),e.onUpdate(o)}else{var i=Object(r.a)({},e.stnTrans,{type:n,osi_names:n.includes("osi")?[e.stnTrans.osi_names[0]||["\u8eca\u7ad9\u540d","Stn Name"]]:[],info:e.stnTrans.info.map((function(e,n){return n===t?e.concat([[,,,,,,]]):e}))});console.log(i),e.onUpdate(i)}},C=function(t,n){var a,o=e.stnTrans.info.map((function(e){return e.length}));1===o.length&&(o[1]=0),o[t]-=1,a=3===o[0]&&0===o[1]?"int3":2===o[0]&&1===o[1]?"osi31":2===o[0]&&0===o[1]?"int3":1===o[0]&&2===o[1]?"osi22":1===o[0]&&1===o[1]?"osi21":1===o[0]&&0===o[1]?"int2":0===o[0]&&3===o[1]?"osi13":0===o[0]&&2===o[1]?"osi12":0===o[0]&&1===o[1]?"osi11":0===o[0]&&0===o[1]?"none":"int3",console.log(a);var i=Object(r.a)({},e.stnTrans,{type:a,osi_names:a.includes("osi")?[e.stnTrans.osi_names[0]||["\u8eca\u7ad9\u540d","Stn Name"]]:[],info:e.stnTrans.info.map((function(e,a){return a===t?e.slice(0,n).concat(e.slice(n+1)):e}))});console.log(i),e.onUpdate(i)};return l.createElement(s.a,null,l.createElement(u.a,null,l.createElement(m.a,null,l.createElement("h3",{style:{margin:0}},t("stations.edit.interchange.within"))),l.createElement(h.a,null,l.createElement(d.a,{title:t("stations.edit.interchange.add"),"aria-label":"add"},l.createElement(g.a,{onClick:function(){return b(0)}},l.createElement(p.a,null,"add_circle"))))),l.createElement(u.a,null,l.createElement(U,{stnId:e.stnId,setIndex:0,onDelete:function(e){return C(0,e)}})),["mtr","shmetro"].includes(window.urlParams.get("style"))&&l.createElement(l.Fragment,null,l.createElement(f.a,null),l.createElement(u.a,null,l.createElement(m.a,null,l.createElement("h3",{style:{margin:0}},t("stations.edit.interchange.osi"))),l.createElement(h.a,null,l.createElement(E.a,{variant:"outlined",color:"primary",style:{lineHeight:"1rem",whiteSpace:"pre",marginRight:5},onClick:function(){return v(!0)}},e.stnTrans.osi_names[0]?e.stnTrans.osi_names[0].join("\r\n"):"\u8eca\u7ad9\u540d\r\nStn Name"),l.createElement(A,{open:y,osiName:e.stnTrans.osi_names[0]||["",""],stnId:e.stnId,onClose:function(){return v(!1)}}),l.createElement(d.a,{title:t("stations.edit.interchange.add"),"aria-label":"add"},l.createElement(g.a,{onClick:function(){return b(1)}},l.createElement(p.a,null,"add_circle"))))),l.createElement(u.a,null,l.createElement(U,{stnId:e.stnId,setIndex:1,onDelete:function(e){return C(1,e)}})),l.createElement(u.a,null,l.createElement("span",null,t("stations.edit.interchange.note")))),"mtr"===window.urlParams.get("style")&&l.createElement(D,{stnId:e.stnId}))};var w=Object(y.a)((function(){return Object(v.a)({intChip:{borderRadius:4.5,height:40,lineHeight:"1rem",margin:2},intChipText:{display:"block",textAlign:"center"},intChipTextZH:{fontSize:18,lineHeight:"1.2rem"},intChipTextEN:{fontSize:".75rem",lineHeight:".9rem",whiteSpace:"pre-wrap"},intChipLabel:{paddingLeft:6,paddingRight:6},intChipDeleteIcon:{marginLeft:-3}})})),U=function(e){var t=w(),n=l.useContext(_.b),a=n.param,r=n.dispatch,c=a.stn_list[e.stnId].transfer.info[e.setIndex],s=l.useState(null),u=Object(i.a)(s,2),m=u[0],h=u[1],d=l.useState(!1),g=Object(i.a)(d,2),p=g[0],f=g[1],E=null===c||void 0===c?void 0:c.map((function(n,a){var o=l.createElement("span",{style:{color:n[3]}},l.createElement("span",{className:"".concat(t.intChipText," ").concat(t.intChipTextZH)},n[4]),l.createElement("span",{className:"".concat(t.intChipText," ").concat(t.intChipTextEN)},n[5]));return l.createElement(b.a,{key:a,label:o,className:t.intChip,classes:{label:t.intChipLabel,deleteIcon:t.intChipDeleteIcon},style:{backgroundColor:n[2]},onDelete:function(){return e.onDelete(a)},onClick:function(){return h(a),void f(!0)}})}));return l.createElement("div",null,E,l.createElement(H.a,{open:p,theme:null===m?[]:[c[m][0],c[m][1],c[m][2],c[m][3]],lineName:null===m?[]:[c[m][4],c[m][5]],onUpdate:function(t,n){"theme"===t&&r({type:"UPDATE_STATION_INTERCHANGE_INFO",stnId:e.stnId,setIdx:e.setIndex,intIdx:m,info:[].concat(Object(o.a)(n),[,,])}),"name"===t&&r({type:"UPDATE_STATION_INTERCHANGE_INFO",stnId:e.stnId,setIdx:e.setIndex,intIdx:m,info:[,,,,n[0],n[1]]})},onClose:function(){return f(!1)}}))},A=l.memo((function(e){var t=Object(c.c)().t,n=l.useContext(_.b).dispatch;return l.createElement(C.a,{open:e.open,onClose:e.onClose},l.createElement(I.a,null,t("stations.edit.interchange.osiName")),l.createElement(N.a,{dividers:!0},l.createElement(s.a,null,l.createElement(x.a,{onUpdate:function(t){return function(a){var o=e.osiName.map((function(e,n){return n===t?a.target.value:e}));n({type:"UPDATE_STATION_OSI_NAME",stnId:e.stnId,name:o})}},name:e.osiName}))),l.createElement(T.a,null,l.createElement(E.a,{onClick:e.onClose,color:"primary",autoFocus:!0},t("dialog.done"))))}),(function(e,t){return e.open===t.open&&e.osiName.toString()===t.osiName.toString()})),D=function(e){var t=Object(c.c)().t,n=l.useContext(_.b),o=n.param,r=n.dispatch,i=o.stn_list[e.stnId].transfer,s=function(t,n){r({type:"UPDATE_STATION_TICK_DIREC",stnId:e.stnId,direction:n})},d=function(t,n){r({type:"UPDATE_STATION_PAID_AREA",stnId:e.stnId,isPaid:n})};return l.useMemo((function(){return l.createElement(l.Fragment,null,l.createElement(f.a,null),l.createElement(u.a,null,l.createElement(m.a,null,l.createElement("h3",{style:{margin:0}},t("stations.edit.interchange.settings")))),l.createElement(u.a,null,l.createElement(z.a,null,l.createElement(p.a,null,"format_textdirection_l_to_r")),l.createElement(m.a,{primary:t("stations.edit.interchange.tickDirec.label"),secondary:l.createElement(O.a,{name:"tick_direc",row:!0,value:i.tick_direc,onChange:s},l.createElement(S.a,{value:"l",control:l.createElement(k.a,{color:"secondary"}),label:t("stations.edit.interchange.tickDirec.l"),labelPlacement:"end"}),l.createElement(S.a,{value:"r",control:l.createElement(k.a,{color:"secondary"}),label:t("stations.edit.interchange.tickDirec.r"),labelPlacement:"end"})),secondaryTypographyProps:Object(a.a)({},"component","div")})),l.createElement(u.a,null,l.createElement(z.a,null,l.createElement(p.a,null,"attach_money")),l.createElement(m.a,{primary:t("stations.edit.interchange.paidArea")}),l.createElement(h.a,null,l.createElement(j.a,{edge:"end",onChange:d,checked:i.paid_area}))))}),[e.stnId,i.tick_direc,i.paid_area])}}}]);
//# sourceMappingURL=panelStationsInterchange.5936468d.chunk.js.map